<!DOCTYPE html>
<html lang="lt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DuomenÅ³ Vientisumo StudijÅ³ Vadovas</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2em;
            margin-bottom: 10px;
        }
        
        .nav {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #e0e0e0;
            overflow-x: auto;
        }
        
        .nav-btn {
            flex: 1;
            padding: 15px 20px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            color: #666;
            transition: all 0.3s;
            white-space: nowrap;
        }
        
        .nav-btn:hover {
            background: #e9ecef;
        }
        
        .nav-btn.active {
            background: white;
            color: #fa709a;
            border-bottom: 3px solid #fa709a;
        }
        
        .content {
            padding: 30px;
        }
        
        .section {
            display: none;
        }
        
        .section.active {
            display: block;
            animation: fadeIn 0.4s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .theory-card {
            background: #f8f9fa;
            border-left: 4px solid #fa709a;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
        }
        
        .theory-card h3 {
            color: #fa709a;
            margin-bottom: 15px;
        }
        
        .theory-card ul {
            margin-left: 20px;
            line-height: 1.8;
        }
        
        .theory-card li {
            margin-bottom: 8px;
        }
        
        .code-box {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            overflow-x: auto;
            font-size: 13px;
        }
        
        .code-box .keyword {
            color: #ff79c6;
            font-weight: bold;
        }
        
        .code-box .string {
            color: #50fa7b;
        }
        
        .code-box .comment {
            color: #6272a4;
            font-style: italic;
        }
        
        .example-box {
            background: #e7f3ff;
            border-left: 4px solid #2196F3;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        
        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        
        .success-box {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .comparison-table th {
            background: #fa709a;
            color: white;
            padding: 12px;
            text-align: left;
        }
        
        .comparison-table td {
            padding: 10px 12px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .comparison-table tr:hover {
            background: #f8f9fa;
        }
        
        .quiz-question {
            background: white;
            border: 2px solid #e0e0e0;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
        }
        
        .quiz-question h4 {
            color: #333;
            margin-bottom: 15px;
        }
        
        .option {
            display: block;
            padding: 12px;
            margin: 8px 0;
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .option:hover {
            background: #e9ecef;
            border-color: #fa709a;
        }
        
        .option.correct {
            background: #d4edda;
            border-color: #28a745;
        }
        
        .option.incorrect {
            background: #f8d7da;
            border-color: #dc3545;
        }
        
        .feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 5px;
            display: none;
        }
        
        .feedback.show {
            display: block;
        }
        
        .feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .highlight {
            background: #fff9c4;
            padding: 2px 4px;
            border-radius: 3px;
        }
        
        .key-term {
            color: #fa709a;
            font-weight: 600;
        }
        
        .score {
            text-align: center;
            font-size: 1.2em;
            padding: 20px;
            background: #e7f3ff;
            border-radius: 8px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ”’ DuomenÅ³ Vientisumo Vadovas</h1>
            <p>Reikalavimai, raktai, trigeriai ir transakcijos</p>
        </div>
        
        <div class="nav">
            <button class="nav-btn active" onclick="showSection(0)">Reikalavimai</button>
            <button class="nav-btn" onclick="showSection(1)">Raktai</button>
            <button class="nav-btn" onclick="showSection(2)">IÅ¡oriniai Raktai</button>
            <button class="nav-btn" onclick="showSection(3)">Trigeriai</button>
            <button class="nav-btn" onclick="showSection(4)">Transakcijos</button>
            <button class="nav-btn" onclick="showSection(5)">Quiz</button>
        </div>
        
        <div class="content">
            <!-- Section 1: Reikalavimai -->
            <div class="section active">
                <h2 style="margin-bottom: 20px;">Reikalavimai DuomenÅ³ Vientisumui</h2>
                
                <div class="theory-card">
                    <h3>Kas yra duomenÅ³ vientisumas?</h3>
                    <p><span class="key-term">DuomenÅ³ vientisumas</span> siejamas su informacijos, esanÄios DB, <span class="highlight">teisingumu ir iÅ¡samumu</span>.</p>
                </div>
                
                <div class="theory-card">
                    <h3>RDBVS uÅ¾tikrinami reikalavimai</h3>
                    <ul>
                        <li><strong>ReikÅ¡miÅ³ bÅ«tinumas</strong> (NOT NULL)</li>
                        <li><strong>Numatytoji reikÅ¡mÄ—</strong> (DEFAULT)</li>
                        <li><strong>Reikalavimai stulpeliams</strong> (CHECK)</li>
                        <li><strong>LentelÄ—s raktÅ³ vientisumas</strong> (PRIMARY KEY, UNIQUE)</li>
                        <li><strong>NuorodÅ³ vientisumas</strong> (FOREIGN KEY)</li>
                        <li><strong>DalykinÄ—s taisyklÄ—s</strong> (trigeriai)</li>
                        <li><strong>DuomenÅ³ neprieÅ¡taringumas</strong> (transakcijos)</li>
                    </ul>
                </div>
                
                <div class="theory-card">
                    <h3>CHECK reikalavimai</h3>
                    <p>Reikalavimai reikÅ¡mÄ—ms â€“ tai sÄ…lygos stulpeliÅ³ reikÅ¡mÄ—ms</p>
                    
                    <div class="code-box">
<span class="keyword">ALTER TABLE</span> Vykdytojai 
<span class="keyword">ADD CONSTRAINT</span> GerosKategorijos 
  <span class="keyword">CHECK</span> (Kategorija <span class="keyword">BETWEEN</span> 1 <span class="keyword">AND</span> 6)
                    </div>
                    
                    <div class="warning-box">
                        <strong>âš ï¸ Svarbu:</strong> Jei lentelÄ—je jau yra duomenÅ³, netenkinanÄiÅ³ reikalavimo, reikalavimo apibrÄ—Å¾imas baigiasi klaida
                    </div>
                    
                    <p style="margin-top: 15px;"><strong>Reikalavimo iÅ¡trynimas:</strong></p>
                    <div class="code-box">
<span class="keyword">ALTER TABLE</span> Vykdytojai 
<span class="keyword">DROP CONSTRAINT</span> GerosKategorijos
                    </div>
                </div>
                
                <div class="theory-card">
                    <h3>CHECK su keliais stulpeliais</h3>
                    <div class="code-box">
<span class="keyword">CREATE TABLE</span> Projektai (
  Nr <span class="keyword">INTEGER NOT NULL CHECK</span> (Nr >= 0),
  Pavadinimas <span class="keyword">VARCHAR</span>(254) <span class="keyword">NOT NULL</span>,
  Svarba <span class="keyword">CHAR</span>(10) 
    <span class="keyword">CHECK</span> (Svarba <span class="keyword">IN</span> (<span class="string">'MaÅ¾a'</span>,<span class="string">'VidutinÄ—'</span>,<span class="string">'DidelÄ—'</span>))
    <span class="keyword">DEFAULT</span> <span class="string">'VidutinÄ—'</span>,
  TrukmÄ— <span class="keyword">SMALLINT CHECK</span> (TrukmÄ— > 0),
  <span class="keyword">CONSTRAINT</span> TrumpÅ³jSvarba 
    <span class="keyword">CHECK</span> (TrukmÄ— > 6 <span class="keyword">OR</span> Svarba = <span class="string">'DidelÄ—'</span>)
)
                    </div>
                    
                    <div class="success-box">
                        <strong>âœ“ Geroji praktika:</strong> Rekomenduojama suteikti reikalavimams vardus â€“ taip juos galima lengvai keisti vÄ—liau
                    </div>
                </div>
                
                <div class="theory-card">
                    <h3>CHECK apribojimai</h3>
                    <ul>
                        <li>CHECK reikalavimai turi bÅ«ti uÅ¾tikrinami <span class="highlight">visada</span></li>
                        <li>CHECK sÄ…lygoje negalima naudoti vardines konstantas, kurios kinta laike</li>
                        <li>Negalima: <code>CHECK(PradÅ¾ia > CURRENT_DATE - INTERVAL '1 MONTH')</code></li>
                    </ul>
                    
                    <div class="warning-box">
                        <strong>DEFAULT vs CHECK:</strong><br>
                        â€¢ DEFAULT reikÅ¡mÄ— taikoma <strong>tik Ä¯vedant</strong> duomenis<br>
                        â€¢ CHECK sÄ…lyga turi bÅ«ti tenkinama <strong>visÄ… laikÄ…</strong>
                    </div>
                </div>
            </div>
            
            <!-- Section 2: Raktai -->
            <div class="section">
                <h2 style="margin-bottom: 20px;">LentelÄ—s RaktÅ³ Vientisumas</h2>
                
                <div class="theory-card">
                    <h3>Pirminis raktas (PRIMARY KEY)</h3>
                    <p>Pirminis raktas uÅ¾tikrina, kad kiekviena eilutÄ— lentelÄ—je yra unikali</p>
                    
                    <div class="code-box">
<span class="comment">-- PridÄ—jimas prie egzistuojanÄios lentelÄ—s:</span>
<span class="keyword">ALTER TABLE</span> Vykdytojai <span class="keyword">ADD PRIMARY KEY</span> (Nr)

<span class="comment">-- SudÄ—tinis pirminis raktas:</span>
<span class="keyword">ALTER TABLE</span> Vykdymas 
<span class="keyword">ADD PRIMARY KEY</span> (Projektas, Vykdytojas)
                    </div>
                    
                    <p style="margin-top: 15px;"><strong>Kuriant lentelÄ™:</strong></p>
                    <div class="code-box">
<span class="keyword">CREATE TABLE</span> Projektai (
  Nr <span class="keyword">INTEGER NOT NULL</span>,
  Pavadinimas <span class="keyword">VARCHAR</span>(254) <span class="keyword">NOT NULL</span>,
  ...,
  <span class="keyword">PRIMARY KEY</span> (Nr)
)
                    </div>
                </div>
                
                <div class="theory-card">
                    <h3>Kiti raktai (UNIQUE)</h3>
                    <p>Kitus (ne pirminius) raktus galima uÅ¾tikrinti unikaliuoju indeksu arba UNIQUE apribojimu</p>
                    
                    <div class="code-box">
<span class="comment">-- Unikaliuoju indeksu:</span>
<span class="keyword">CREATE UNIQUE INDEX</span> Raktas_Pavadinimas 
  <span class="keyword">ON</span> Projektai(Pavadinimas)

<span class="comment">-- UNIQUE apribojimu:</span>
Pavadinimas <span class="keyword">VARCHAR</span>(254) <span class="keyword">NOT NULL UNIQUE</span>

<span class="comment">-- Arba:</span>
<span class="keyword">CONSTRAINT</span> Raktas2 <span class="keyword">UNIQUE</span> (Pavadinimas)
                    </div>
                </div>
                
                <div class="theory-card">
                    <h3>Automatinis reikÅ¡miÅ³ parinkimas</h3>
                    <p>Dirbtiniams raktams galima nurodyti automatinio reikÅ¡miÅ³ parinkimo taisyklÄ™</p>
                    
                    <div class="code-box">
<span class="keyword">GENERATED</span> {<span class="keyword">ALWAYS</span> | <span class="keyword">BY DEFAULT</span>} 
  <span class="keyword">AS IDENTITY</span> 
  [(<span class="keyword">START WITH</span> &lt;skaiÄius&gt; 
    <span class="keyword">INCREMENT BY</span> &lt;skaiÄius&gt;)]
                    </div>
                    
                    <ul style="margin-top: 15px;">
                        <li><strong>ALWAYS</strong> â€“ reikÅ¡mÄ— generuojama visada</li>
                        <li><strong>BY DEFAULT</strong> â€“ reikÅ¡mÄ— priskiriama tik, kai INSERT sakinyje nenurodyta reikÅ¡mÄ—</li>
                        <li><strong>START WITH</strong> â€“ pradinÄ— reikÅ¡mÄ—</li>
                        <li><strong>INCREMENT BY</strong> â€“ aritmetinÄ—s progresijos skirtumas</li>
                    </ul>
                    
                    <div class="example-box">
                        <strong>Pavyzdys:</strong>
                        <div class="code-box">
Nr <span class="keyword">INTEGER NOT NULL PRIMARY KEY</span> 
  <span class="keyword">GENERATED ALWAYS AS IDENTITY</span> 
  (<span class="keyword">START WITH</span> 100 <span class="keyword">INCREMENT BY</span> 1)
                        </div>
                    </div>
                </div>
                
                <div class="theory-card">
                    <h3>DBVS specifinÄ—s savybÄ—s</h3>
                    <table class="comparison-table">
                        <tr>
                            <th>DBVS</th>
                            <th>Automatinio parinkimo sintaksÄ—</th>
                        </tr>
                        <tr>
                            <td>SQL standartas</td>
                            <td>GENERATED AS IDENTITY</td>
                        </tr>
                        <tr>
                            <td>MS SQL Server</td>
                            <td>IDENTITY (pradinÄ—, prieaugis)</td>
                        </tr>
                        <tr>
                            <td>PostgreSQL <10</td>
                            <td>SERIAL tipas</td>
                        </tr>
                        <tr>
                            <td>PostgreSQL â‰¥10</td>
                            <td>GENERATED AS IDENTITY</td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <!-- Section 3: IÅ¡oriniai Raktai -->
            <div class="section">
                <h2 style="margin-bottom: 20px;">IÅ¡oriniai Raktai ir NuorodÅ³ Vientisumas</h2>
                
                <div class="theory-card">
                    <h3>E.F. Codd nuorodÅ³ vientisumo taisyklÄ—</h3>
                    <div class="success-box">
                        "ReliacinÄ—je DB kiekvienai iÅ¡orinio rakto reikÅ¡mei, jei tik ji nÄ—ra NULL reikÅ¡mÄ—, turi egzistuoti atitinkama pirminio rakto reikÅ¡mÄ—"
                    </div>
                    
                    <p style="margin-top: 15px;">Pirminis ir iÅ¡orinis raktai apibrÄ—Å¾ia ryÅ¡Ä¯ tarp dviejÅ³ lenteliÅ³:</p>
                    <ul>
                        <li><strong>PagrindinÄ— lentelÄ—</strong> ("tÄ—vas")</li>
                        <li><strong>Priklausoma lentelÄ—</strong> ("vaikas", kategorijÅ³ lentelÄ—)</li>
                    </ul>
                </div>
                
                <div class="theory-card">
                    <h3>Veiksmai, galintys paÅ¾eisti nuorodÅ³ vientisumÄ…</h3>
                    
                    <p><strong>DBVS uÅ¾tikrina automatiÅ¡kai (be naudotojo Ä¯sikiÅ¡imo):</strong></p>
                    <ul>
                        <li>âœ“ Naujos priklausomos eilutÄ—s ("vaiko") Ä¯terpimas</li>
                        <li>âœ“ IÅ¡orinio rakto atnaujinimas priklausomoje eilutje</li>
                    </ul>
                    
                    <p style="margin-top: 15px;"><strong>Naudotojas gali Ä¯takoti DBVS elgesÄ¯:</strong></p>
                    <ul>
                        <li>âš™ï¸ PagrindinÄ—s ("tÄ—vinÄ—s") eilutÄ—s iÅ¡trynimas</li>
                        <li>âš™ï¸ Pirminio rakto atnaujinimas pagrindinÄ—je eilutÄ—je</li>
                    </ul>
                </div>
                
                <div class="theory-card">
                    <h3>4 taisyklÄ—s trinant/atnaujinant pagrindinÄ™ eilutÄ™</h3>
                    
                    <table class="comparison-table">
                        <tr>
                            <th>TaisyklÄ—</th>
                            <th>Trynimas (ON DELETE)</th>
                            <th>Atnaujinimas (ON UPDATE)</th>
                        </tr>
                        <tr>
                            <td><strong>RESTRICT / NO ACTION</strong></td>
                            <td>UÅ¾drausti trynimÄ…, jei "tÄ—vas turi vaikÅ³"</td>
                            <td>UÅ¾drausti keitimÄ…, jei "tÄ—vas turi vaikÅ³"</td>
                        </tr>
                        <tr>
                            <td><strong>CASCADE</strong></td>
                            <td>PaÅ¡alinti visas priklausomas eilutes</td>
                            <td>Pakeisti visas priklausomas eilutes</td>
                        </tr>
                        <tr>
                            <td><strong>SET NULL</strong></td>
                            <td>Priklausomose eilutÄ—se iÅ¡oriniam raktui priskirti NULL</td>
                            <td>Priklausomose eilutÄ—se iÅ¡oriniam raktui priskirti NULL</td>
                        </tr>
                        <tr>
                            <td><strong>SET DEFAULT</strong></td>
                            <td>Priklausomose eilutÄ—se iÅ¡oriniam raktui priskirti DEFAULT reikÅ¡mÄ™</td>
                            <td>Priklausomose eilutÄ—se iÅ¡oriniam raktui priskirti DEFAULT reikÅ¡mÄ™</td>
                        </tr>
                    </table>
                </div>
                
                <div class="theory-card">
                    <h3>IÅ¡orinio rakto apibrÄ—Å¾imas</h3>
                    
                    <div class="code-box">
<span class="keyword">ALTER TABLE</span> Vykdymas 
<span class="keyword">ADD CONSTRAINT</span> Vykdytojus 
<span class="keyword">FOREIGN KEY</span> (Vykdytojas) 
<span class="keyword">REFERENCES</span> Vykdytojai 
  <span class="keyword">ON DELETE CASCADE</span> 
  <span class="keyword">ON UPDATE RESTRICT</span>
                    </div>
                    
                    <div class="example-box">
                        <strong>ReikÅ¡mÄ—:</strong> Å is iÅ¡orinis raktas reiÅ¡kia:<br>
                        â€¢ IÅ¡trynus vykdytojÄ… â€“ automatiÅ¡kai iÅ¡trinamos visos jo uÅ¾duotys (CASCADE)<br>
                        â€¢ KeiÄiant vykdytojo Nr â€“ operacija uÅ¾draudÅ¾iama, jei jis turi uÅ¾duoÄiÅ³ (RESTRICT)
                    </div>
                    
                    <p style="margin-top: 15px;"><strong>IÅ¡orinio rakto sunaikinimas:</strong></p>
                    <div class="code-box">
<span class="keyword">ALTER TABLE</span> Vykdymas 
<span class="keyword">DROP CONSTRAINT</span> Vykdytojus
                    </div>
                </div>
            </div>

            <!-- Section 4: Trigeriai -->
            <div class="section">
                <h2 style="margin-bottom: 20px;">DalykinÄ—s TaisyklÄ—s ir Trigeriai</h2>
                
                <div class="theory-card">
                    <h3>Kas yra dalykinÄ—s taisyklÄ—s?</h3>
                    <p>DalykinÄ—s taisyklÄ—s â€“ reikalavimai, susijÄ™ su konkreios organizacijos darbo tvarka:</p>
                    <ul>
                        <li>Darbuotojas negali dalyvauti daugiau nei 3 projektuose</li>
                        <li>Darbuotojas negali vadovauti daugiau nei 1 projektui</li>
                        <li>Projektas negali bÅ«ti pradÄ—tas anksÄiau nei prieÅ¡ mÄ—nesÄ¯</li>
                    </ul>
                    
                    <div class="success-box">
                        <strong>DBVS uÅ¾tikrinamos ECA taisyklÄ—s:</strong><br>
                        <span class="key-term">Event-Condition-Action</span> (Ä®vykis â€“ SÄ…lyga â€“ Veiksmas)
                    </div>
                </div>
                
                <div class="theory-card">
                    <h3>Kas yra trigeris?</h3>
                    <p><span class="key-term">Trigeris</span> â€“ mechanizmas dalykinÄ—ms taisyklÄ—ms uÅ¾tikrinti:</p>
                    <ul>
                        <li>Su kiekvienu duomenÅ³ atnaujinimo Ä¯vykiu (INSERT, UPDATE, DELETE) susiejamas veiksmas</li>
                        <li>DBVS vykdo apibrÄ—Å¾tÄ…jÄ¯ veiksmÄ… kiekvienÄ… kartÄ… Ä¯vykiui atsitikus</li>
                        <li>Galima apibrÄ—Å¾ti papildomÄ… sÄ…lygÄ… veiksmams atlikti</li>
                    </ul>
                    
                    <div class="warning-box">
                        <strong>ğŸ“œ Istorija:</strong> DalykiniÅ³ taisykliÅ³ uÅ¾tikrinimo reikalingumas pagrÄ¯stas 1976 m. straipsnyje (IBM). PradÄ—tos diegti po 10 metÅ³ trigerio pavadinimu.
                    </div>
                </div>
                
                <div class="theory-card">
                    <h3>Trigerio sudedamosios dalys</h3>
                    <p>Kuriant trigerÄ¯ (CREATE TRIGGER) nurodoma:</p>
                    
                    <ul>
                        <li><strong>Trigerio vardas</strong></li>
                        <li><strong>LentelÄ—</strong>, su kuria siejamas trigeris</li>
                        <li><strong>Ä®vykis</strong>: INSERT, UPDATE, DELETE</li>
                        <li><strong>Momentas</strong>: BEFORE (prieÅ¡) arba AFTER (po) atnaujinimo</li>
                        <li><strong>DaÅ¾nis</strong>: 
                            <ul>
                                <li>FOR EACH STATEMENT â€“ vienÄ… kartÄ… sakiniui</li>
                                <li>FOR EACH ROW â€“ kiekvienai eilutei</li>
                            </ul>
                        </li>
                        <li><strong>Kamienas</strong> â€“ SQL sakiniai, kuriuos vykdyti</li>
                        <li><strong>SÄ…lyga (WHEN)</strong> â€“ kada vykdyti kamienÄ…</li>
                    </ul>
                </div>
                
                <div class="theory-card">
                    <h3>Trigerio sintaksÄ— (SQL standartas)</h3>
                    
                    <div class="code-box">
<span class="keyword">CREATE TRIGGER</span> &lt;trigerio vardas&gt; 
&lt;momentas&gt; &lt;Ä¯vykis&gt; <span class="keyword">ON</span> &lt;lentelÄ—s vardas&gt; 
[<span class="keyword">REFERENCING</span> [<span class="keyword">NEW AS</span> &lt;vardas&gt;] 
              [<span class="keyword">OLD AS</span> &lt;vardas&gt;]] 
&lt;daÅ¾nis&gt; 
[<span class="keyword">WHEN</span> (&lt;paieÅ¡kos sÄ…lyga&gt;)] 
&lt;veiksmas&gt;
                    </div>
                    
                    <div class="warning-box">
                        <strong>âš ï¸ Pastaba:</strong> Standartizuotas SQL:1999, bet daugelis DBVS turi savitÄ… dialektÄ…
                    </div>
                </div>
                
                <div class="theory-card">
                    <h3>OLD ir NEW</h3>
                    <ul>
                        <li><strong>NEW</strong> â€“ naujoji eilutÄ—s bÅ«sena (po INSERT/UPDATE)</li>
                        <li><strong>OLD</strong> â€“ senoji eilutÄ—s bÅ«sena (prieÅ¡ UPDATE/DELETE)</li>
                    </ul>
                    
                    <table class="comparison-table">
                        <tr>
                            <th>Operacija</th>
                            <th>OLD</th>
                            <th>NEW</th>
                        </tr>
                        <tr>
                            <td>INSERT</td>
                            <td>-</td>
                            <td>âœ“</td>
                        </tr>
                        <tr>
                            <td>UPDATE</td>
                            <td>âœ“</td>
                            <td>âœ“</td>
                        </tr>
                        <tr>
                            <td>DELETE</td>
                            <td>âœ“</td>
                            <td>-</td>
                        </tr>
                    </table>
                </div> <!-- theory-card -->

                                <div class="theory-card">
                    <h3>TrigeriÅ³ naudojimo rekomendacijos</h3>
                    <ul>
                        <li>Trigerius naudokite tik tada, kai taisyklÄ—s <span class="highlight">negalima</span> realizuoti su CHECK ar FOREIGN KEY</li>
                        <li>Venkite sudÄ—tingos verslo logikos trigeriuose</li>
                        <li>Trigeriai apsunkina testavimÄ… ir klaidÅ³ paieÅ¡kÄ…</li>
                        <li>Visada dokumentuokite trigerio paskirtÄ¯</li>
                    </ul>

                    <div class="warning-box">
                        <strong>âš ï¸ Rizika:</strong> Netinkamai sukurti trigeriai gali sukelti
                        ciklinius atnaujinimus arba stipriai sulÄ—tinti DB darbÄ…
                    </div>
                </div>
            </div>

            <!-- Section 5: Transakcijos -->
            <div class="section">
                <h2 style="margin-bottom: 20px;">Transakcijos ir DuomenÅ³ NeprieÅ¡taringumas</h2>

                <div class="theory-card">
                    <h3>Kas yra transakcija?</h3>
                    <p>
                        <span class="key-term">Transakcija</span> â€“ tai logiÅ¡kai susijusiÅ³ DB operacijÅ³ seka,
                        kuri turi bÅ«ti Ä¯vykdyta <span class="highlight">visa arba neÄ¯vykdyta visai</span>.
                    </p>
                </div>

                <div class="theory-card">
                    <h3>ACID savybÄ—s</h3>
                    <ul>
                        <li><strong>Atomicity</strong> â€“ viskas arba nieko</li>
                        <li><strong>Consistency</strong> â€“ po transakcijos DB lieka teisingoje bÅ«senoje</li>
                        <li><strong>Isolation</strong> â€“ transakcijos viena kitos nemato</li>
                        <li><strong>Durability</strong> â€“ patvirtinti pakeitimai neiÅ¡nyksta</li>
                    </ul>
                </div>
                <div class="theory-card">
                    <h3>TransakcijÅ³ valdymo komandos</h3>

                    <div class="code-box">
<span class="keyword">BEGIN</span>;

<span class="comment">-- SQL operacijos</span>

<span class="keyword">COMMIT</span>;
                    </div>

                    <div class="code-box">
<span class="keyword">BEGIN</span>;

<span class="comment">-- SQL operacijos</span>

<span class="keyword">ROLLBACK</span>;
                    </div>

                    <div class="example-box">
                        <strong>Pavyzdys:</strong> Jei viena operacija nepavyksta â€“
                        visa transakcija atÅ¡aukiama (ROLLBACK)
                    </div>
                </div>

                <div class="theory-card">
                    <h3>Izoliacijos lygiai</h3>
                    <table class="comparison-table">
                        <tr>
                            <th>Lygis</th>
                            <th>ApraÅ¡ymas</th>
                        </tr>
                        <tr>
                            <td>READ UNCOMMITTED</td>
                            <td>LeidÅ¾ia â€neÅ¡variusâ€œ skaitymus</td>
                        </tr>
                        <tr>
                            <td>READ COMMITTED</td>
                            <td>Skaitomi tik patvirtinti duomenys</td>
                        </tr>
                        <tr>
                            <td>REPEATABLE READ</td>
                            <td>Garantija, kad skaityti duomenys nepasikeis</td>
                        </tr>
                        <tr>
                            <td>SERIALIZABLE</td>
                            <td>GrieÅ¾Äiausias â€“ transakcijos vykdomos tarsi nuosekliai</td>
                        </tr>
                    </table>
                </div>
            </div>



            <!-- Section 6: Quiz -->
            <div class="section">
                <h2 style="margin-bottom: 20px;">SavikontrolÄ—s Quiz</h2>

                <div class="quiz-question">
                    <h4>1. Kuri savybÄ— uÅ¾tikrina, kad transakcija bus Ä¯vykdyta visa arba neÄ¯vykdyta visai?</h4>
                    <div class="option">Consistency</div>
                    <div class="option correct">Atomicity</div>
                    <div class="option">Isolation</div>
                    <div class="option">Durability</div>
                </div>

                <div class="quiz-question">
                    <h4>2. Kuris mechanizmas labiausiai tinka nuorodÅ³ vientisumui?</h4>
                    <div class="option">CHECK</div>
                    <div class="option correct">FOREIGN KEY</div>
                    <div class="option">TRIGGER</div>
                    <div class="option">DEFAULT</div>
                </div>

                <div class="success-box">
                    <strong>ğŸ‰ Sveikiname!</strong> Jei supranti visas Å¡io vadovo dalis â€“
                    esi pasiruoÅ¡Ä™s DB vientisumo temai.
                </div>
            </div>

        </div> <!-- content -->
    </div> <!-- container -->

<script>
function showSection(index) {
    const sections = document.querySelectorAll('.section');
    const buttons = document.querySelectorAll('.nav-btn');

    sections.forEach(s => s.classList.remove('active'));
    buttons.forEach(b => b.classList.remove('active'));

    sections[index].classList.add('active');
    buttons[index].classList.add('active');
}
</script>

</body>
</html>
